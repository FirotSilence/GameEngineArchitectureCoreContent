
# 第一章 导论

## 核心知识点

- 典型游戏团队的构成
- 各种游戏类型中的引擎差异
- 现有商业引擎和开源引擎
- 运行时引擎架构

## 详细介绍

### 典型游戏团队的构成

游戏工作室（game studio）通常由5个基本专业领域的人员构成：

- **工程师（engineer）**：细分为*运行时程序员（runtime programmer）*和*工具程序员（tool programmer）*。运行时程序员制作引擎和游戏本身；工具程序员制作离线工具，供整个团队使用，以提高团队的工作效率。还有几种特殊的工程师：*首席工程师*（通常仍会设计及编写代码，但同时协助管理团队的时间表，并决定项目的整体技术方向）、*技术总监*（负责从较高层面监督一个或者多个项目，确保团队能注意到潜在的技术难点、业界走势、新技术等）和*首席技术官*（CTO，类似于整个工作室的技术总监，并履行公司的重要行政职务）。
- **艺术家（artist）**：负责设计玩家体验的交互部分，又叫游戏性。细分为*概念艺术家（concept artist）*、*三维建模师（3D modeler）*、*纹理艺术家（texture artist）*、*灯光师（lighting artist）*、*动画师（animator）*、*动画捕捉演员（motion capture actor）*、*音效设计师（sound designer）*、*配音演员（voice actor）*和*作曲家（composer）*。
- **游戏设计师（game designer）**：细分为*资深游戏设计师*和*关卡设计师*。资深游戏设计师在宏观层面上设定故事主线、整体的章节或者关卡顺序、玩家的高层次目标。关卡设计师则在虚拟游戏世界的个别关卡或者地域上工作，例如设定哪些地点会出现敌人、放置武器及药物等补给品、设计谜题元素等。
- **制作人（producer）**：不同工作室，制作人的角色不尽相同。职责大体为：负责管理时间表，并同时承担人力资源经理的职责；做资深游戏设计师的工作；作为开发团队和商业部门（财政、法律、市场策划等）之间的联系人。
- **其他管理/支持人员**：细分为市场策划、法律、信息科技/技术支持、行政等。

### 不同游戏类型中的引擎差异

1. 第一人称射击（first person shooting，FPS）

- **典型代表作**：《雷神之锤》《虚幻竞技场》《半条命》《反恐精英》《使命召唤》。
- **技术特点**：高效地渲染大型三维虚拟世界；快速反应的摄像机控制及瞄准机制；玩家的虚拟手臂和武器的逼真画面；各式各样的手持武器；宽容的玩家角色运动及碰撞模型，通常使游戏有种“漂浮”的感觉；非玩家角色（如玩家的敌人及同盟）有逼真的动画及职能；小规模在线多人游戏的能力（通常支持多至同时64位玩家在线），及无处不在的死亡竞赛游戏模式。

2. 平台及其他第三人称游戏（third person game）

- **典型代表作**：《超级马里奥64》《古惑狼》《雷曼2》《音速小子》
- **技术特点**：移动平台、梯子、绳子、棚架及其他有趣的运动模式；用来解谜的环境元素；第三人称的“跟踪摄像机”会一直注视玩家角色，也通常会让玩家用手柄右摇杆（在玩家主机上）或鼠标（在PC上）旋转摄像机（虽然在PC上有很多流行的第三人称射击游戏，但平台游戏类型几乎是游戏主机上独有的）；复杂的摄像机碰撞系统，以保证视点不会穿过背景几何物体或动态的前景物体。

3. 格斗游戏（fighting game）

- **典型代表作**：《灵魂能力》《铁拳》。
- **技术特点**：丰富的格斗动画；准确的攻击判定；能侦测复杂按钮及摇杆组合的玩家输入系统；人群，或相对静态的背景；

4. 竞速游戏（racing game）

- **典型代表作**：《着重模拟的竞速游戏系列》《街机竞速游戏系列》《卡丁赛车系列》
- **技术特点**：使用多种“窍门”去渲染遥远的背景；赛道通常切开成较简单的二维区域，称为“分区”；第三人称视角摄像机通常追随在车辆背后，第一人称摄像机有时候会置于驾驶舱理；如果赛道经过天桥底及其他狭窄空间，必须花精力防止摄像机和背景几何物体碰撞。

5. 实时策略游戏（real-time strategy）

- **典型代表作**：《魔兽争霸》《帝国时代》《星际争霸》
- **技术特点**：每个作战单元使用相对较低解析度的模型，使游戏能支持同时显示大量单元；游戏的设计和进行多是在高度场地形画面上展开的；除了部署兵力，游戏通常准许玩家在地形上兴建新的建筑物；用户互动方式通常为单机及以范围选取单元，再加上包含指令、装备、作战单元种类、建筑种类等的菜单及工具栏。

6. 大型多人在线游戏（massively multiplayer online game）

- **典型代表作**：《魔兽世界》《星球大战》《无尽的任务》
- **技术特点**：同时支持大量玩家（由数千至数十万）；在非常大的持久世界；核心是一组非常强大的服务器；因为此类游戏场景规模和玩家数量很大，所以图形逼真程度通常稍低于其他游戏。

7. 其他游戏类型

- 体育游戏（sports）
- 角色扮演游戏（role playing game）
- 上帝模拟游戏（god game）
- 环境或社会模拟游戏（environment/social simulation）
- 解谜游戏（puzzle）
- 非电子游戏的移植，如象棋、围棋、卡牌游戏等
- 基于网页的游戏
- 其他游戏类型

### 现有商业引擎和开源引擎

1. **雷神之锤引擎家族**

- 简介：id Software公司相继开发的《毁灭战士（Doom）》、《雷神之锤（Quake）》、《雷神之锤2（Quake 2）》及《雷神之锤3（Quake 3）》，这些引擎在架构上非常相似，统称为雷神之锤引擎家族。

- 特点：引擎架构相当优秀并且整洁。（虽然代码是有点过时，并且纯粹用C语言编写的）

2. **虚幻引擎**

- 简介：1998年，Epic Games公司通过传奇的游戏《虚幻（Unreal）》闯入FPS世界。成为雷神之锤的主要竞争对手。随后，进一步发展为虚幻引擎2代和3代，到现在的4代。
- 特点：虚幻引擎以其全面的功能及内聚易用的工具见称；虚幻引擎并非完美，大部分开发者会以不同方式优化它在具体硬件平台上的运行状况；授权费用极高，并非独立游戏开发者及大部分小工作室能承担的。

3. **Source引擎**

- 简介：Valve公司使用自主开发的Source引擎制作了红极一时的《半条命2》等一系列作品。
- 特点：引擎的质量相当不错，其图形能力和工具套件可与虚幻引擎媲美。

4. **微软XNA Game Studio**

- 简介：微软XNA Game Studio是一个既易用又方便的游戏开发平台。XNA基于微软的C#语言及公共语言运行库。
- 特点：易用、方便、免费。

5. 其他商业引擎

- **C4引擎**

6. 专有内部引擎

- **SAGE引擎**

7. 开源引擎
- **OGRE**：一个架构优良、又易学易用的三维渲染引擎。
- **Panda3D**：基于脚本的引擎。
- **Yake**：基于OGRE而开发的全功能引擎。
- **Crystal Space**：一个含扩充模组架构的游戏引擎。
- **Torque**：并非一般意义上的开源项目。可能因其商业授权比较便宜并提供源代码，而产生这种错觉。
- **Irrlicht**：一个用C++书写的高性能实时的3D引擎。具有高效、实时、跨平台的特点。比较适合引擎学习入门。

### 运行时引擎架构

先上一张图，包含整个运行时引擎架构。(暂时先用英文版高清图，中文版还没找到，等找到之后替换掉)

![运行时引擎架构](https://github.com/hahahuahai/GameEngineArchitectureCoreContent/blob/master/media/fig-runtime-arch.jpg)

<center>图注：运行时引擎架构</center>

